<html>

<head>
    <base href="https://skaryna.github.io/skaryna/">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,300,700" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans+Condensed:300" rel="stylesheet" type="text/css">
    <link href="style.css" rel="stylesheet" type="text/css">
</head>

<body>
    <div>
        <h1>Franˈt͡sɨsk skaˈrɨna</h1>
        <!-- Place this tag where you want the button to render. -->
        <a class="github-button" href="https://github.com/sielay/skaryna" data-icon="octicon-star" data-style="mega" data-count-href="/sielay/skaryna/stargazers" data-count-api="/repos/sielay/skaryna#stargazers_count" data-count-aria-label="# stargazers on GitHub" aria-label="Star sielay/skaryna on GitHub">Star</a>
        <!-- Place this tag where you want the button to render. -->
        <a class="github-button" href="https://github.com/sielay/skaryna/fork" data-icon="octicon-repo-forked" data-style="mega" data-count-href="/sielay/skaryna/network" data-count-api="/repos/sielay/skaryna#forks_count" data-count-aria-label="# forks on GitHub" aria-label="Fork sielay/skaryna on GitHub">Fork</a>
        <div>
            <div>
                <div>
                    <pre>&lt;h3 data-skaryna
    data-skaryna-path="title"
    data-skaryna-variant="mini"
    data-skaryna-allow="text"&gt;&lt;/h3&gt;</pre>
                    <div>
                        <h3 data-skaryna data-skaryna-path="title" data-skaryna-variant="mini" data-skaryna-allow="text"></h3>
                    </div>
                </div>
                <div>
                    <pre>&lt;h1 data-skaryna
    data-skaryna-allow="text"
    data-skaryna-path="title"
    placeholder="Type header here"&gt;&lt;/h1&gt;</pre>
                    <div>
                        <h1 data-skaryna data-skaryna-allow="text" data-skaryna-path="title" placeholder="Type header here"></h1>
                    </div>
                </div>
                <div>
                    <pre>&lt;section data-skaryna
    data-skaryna-path="body"&gt;&lt;/section&gt;</pre>
                    <div>
                        <section data-skaryna data-skaryna-path="body"></section>
                    </div>
                </div>
                <div>
                    <pre>&lt;div data-skaryna
    data-skaryna-path="list"&gt;&lt;/div&gt;</pre>
                    <div>
                        <div data-skaryna data-skaryna-path="list"></div>
                    </div>
                </div>
                <div>
                    <pre>&lt;section data-skaryna
    data-skaryna-doc="other"&gt;
    &lt;p&gt;Lorem ipsum&lt;/p&gt;
    &lt;img src="https://unsplash.it/200/300" /&gt;
&lt;/section&gt;</pre>
                    <div>
                        <section data-skaryna data-skaryna-doc="other">
                            <p>WYSIWYM（英语发音：/ˈwɪziwɪm/，全寫英语：What You See Is What You Mean）是類似所見即所得的編輯器，其意思是你看到的效果，就是你想表达的意思</p>
                            <p>
                                在WYSIWYM編輯器中，用戶根據特定的結構而去編寫內容，而不是外觀設計方面入手。例如，文章的標題、子題目、作者等。這個編輯模式要求使用者在編輯之前已經決定好結構。而且，這個編輯系統還需要一個系統以匯出完成後的作品，去根據指定的結構去產生文件的最終版本。 该方法的主要优点是信息表现形式和内容分离：用户可以集中精力在文章和文章结构，而不是文章的外观。另一个优点是，相同的内容可以更容易地以不同的格式显示和导出。
                            </p>
                            <img src="https://unsplash.it/200/300" />
                        </section>
                    </div>
                </div>
                <pre data-skaryna-script data-two-cols></pre>
            </div>
            <div>
                <img src="logo.png" />
                <h3>Current Element</h3>
                <pre id="current-element"></pre>
                <h3>Current Node</h3>
                <pre id="current-node"></pre>
                <h3>POM</h3>
                <pre id="pom"></pre>
                <h3>DIFF</h3>
                <pre id="diff"></pre>
                <h3>Visual diff</h3>
                <pre id="visual-diff"></pre>
            </div>
        </div>
    </div>
    <a href="https://github.com/sielay/skaryna"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/38ef81f8aca64bb9a64448d0d70f1308ef5341ab/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f6461726b626c75655f3132313632312e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png"></a>
    <script id="script">
        window.___Skaryna = window.___Skaryna || [];

        function format(pom) {
            //console.log(pom);
        }

        window.___Skaryna.push(function () {

            Skaryna.Editor
                .load('./document.json')
                .then(() => {

                    Skaryna.Editor.on('selected', event => {
                        document.getElementById('current-element').innerText = event.data.element.outerHTML;
                        document.getElementById('current-node').innerText = JSON.stringify(event.data.node);
                    });
                    Skaryna.Editor
                        .initEditors(window.document.body)
                        .then(() => {
                            document.querySelector('#pom').innerText = JSON.stringify(Skaryna.repository.toJSON(), null, 2);
                            Skaryna.repository.on('change', function (event) {
                                document.querySelector('#pom').innerText = JSON.stringify(Skaryna.repository.toJSON(), null, 2);
                                Skaryna.repository
                                    .diff()
                                    .then(delta => {
                                        document.querySelector('#diff').innerText = JSON.stringify(delta, null, 2);
                                    });
                            });
                        });
                });

            Skaryna.XHR
                .get('./document.json')
                .then((content) => {
                    //document.querySelector('[data-skaryna-json]').innerText = content;
                })

        });
        //document.querySelector('[data-skaryna-html]').innerText = document.querySelector('main').innerHTML;
        document.querySelector('[data-skaryna-script]').innerText = document.getElementById('script').innerText;
    </script>
    <script type="application/javascript" src="skaryna.js"></script>
    <!-- Place this tag in your head or just before your close body tag. -->
    <script async defer src="https://buttons.github.io/buttons.js"></script>
</body>

</html>
